define("mod_harpiasurvey/fancytree_loader",["exports","jquery","core/config"],(function(_exports,_jquery,_config){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.ensureFancytree=_exports.default=void 0,_jquery=_interopRequireDefault(_jquery),_config=_interopRequireDefault(_config);let loadPromise=null;const ensureFancytree=()=>loadPromise||((()=>{const href=_config.default.wwwroot+"/mod/harpiasurvey/amd/vendor/fancytree/skin-win8.min.css";if(document.querySelector(`link[data-fancytree-css="${href}"]`))return;const link=document.createElement("link");link.rel="stylesheet",link.href=href,link.dataset.fancytreeCss=href,document.head.appendChild(link)})(),loadPromise=new Promise(((resolve,reject)=>{if(_jquery.default.ui&&_jquery.default.ui.fancytree)return void resolve(_jquery.default.ui.fancytree);const previousDefine=window.define;window.define=void 0;const script=document.createElement("script");script.src=_config.default.wwwroot+"/mod/harpiasurvey/amd/vendor/fancytree/jquery.fancytree.min.js",script.async=!0,script.onload=()=>{window.define=previousDefine,_jquery.default.ui&&_jquery.default.ui.fancytree?resolve(_jquery.default.ui.fancytree):reject(new Error("Fancytree failed to load"))},script.onerror=()=>{window.define=previousDefine,reject(new Error("Failed to load Fancytree script"))},document.head.appendChild(script)})),loadPromise);_exports.ensureFancytree=ensureFancytree;var _default={ensureFancytree:ensureFancytree};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=fancytree_loader.min.js.map