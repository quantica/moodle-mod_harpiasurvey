{{!
    This file is part of Moodle - https://moodle.org/
    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <https://www.gnu.org/licenses/>.
}}
{{!
    @template mod_harpiasurvey/experiments_table

    Template for displaying experiments table on course page.

    Context variables required for this template:
    * experiments - Array of experiments
    * has_experiments - Whether there are experiments
    * noexperiments - No experiments message
    * canmanage - Whether user can manage experiments
    * actionurls - Action URLs object
}}
<div class="harpiasurvey-experiments-table">
    <table class="table table-hover table-bordered harpiasurvey-sortable-table" style="width: 100%;">
        <thead class="table-dark">
            <tr>
                <th scope="col">{{experimentnamelabel}} ↕</th>
                <th scope="col">{{participantslabel}} ↕</th>
                <th scope="col">{{maxparticipantslabel}} ↕</th>
                <th scope="col">{{statuslabel}} ↕</th>
                <th scope="col">{{actionslabel}}</th>
            </tr>
        </thead>
        <tbody>
            {{#has_experiments}}
                {{#experiments}}
                    <tr>
                        <td><a href="{{viewurl}}">{{name}}</a></td>
                        <td>{{participants}}</td>
                        <td>{{maxparticipants}}</td>
                        <td>{{status}}</td>
                        <td>
                            {{#editingmode}}
                                {{#canmanage}}
                                    <a href="{{statsurl}}" title="{{#str}}viewstats, mod_harpiasurvey{{/str}}">{{{statsicon}}}</a>
                                    <a href="{{editurl}}" title="{{#str}}edit, moodle{{/str}}">{{{editicon}}}</a>
                                    <a href="{{deleteurl}}" title="{{#str}}delete, moodle{{/str}}">{{{deleteicon}}}</a>
                                {{/canmanage}}
                            {{/editingmode}}
                        </td>
                    </tr>
                {{/experiments}}
            {{/has_experiments}}
            {{^has_experiments}}
                <tr>
                    <td colspan="5" class="text-center">{{noexperiments}}</td>
                </tr>
            {{/has_experiments}}
        </tbody>
    </table>

    {{#editingmode}}
        {{#canmanage}}
            {{#actionurls}}
                <div class="harpiasurvey-actions mt-3">
                    <a href="{{createurl}}" class="btn btn-primary">{{createlabel}}</a>
                    <a href="{{registerurl}}" class="btn btn-secondary ml-2">{{registerlabel}}</a>
                </div>
            {{/actionurls}}
        {{/canmanage}}
    {{/editingmode}}
</div>
