{{!
    This file is part of Moodle - https://moodle.org/
    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <https://www.gnu.org/licenses/>.
}}
{{!
    @template mod_harpiasurvey/question_bank

    Template for the question bank view.

    Context variables required for this template:
    * questionsurl - URL to questions tab
    * pagesurl - URL to pages tab
    * questionslabel - Label for questions
    * pageslabel - Label for pages
    * questions - Array of questions
    * has_questions - Whether there are questions
    * noquestions - No questions message
    * createurl - URL to create question
    * createquestionlabel - Label for create button
    * backurl - URL to go back
    * backlabel - Label for back button
}}
<div class="card">
    <div class="card-body">
        <!-- Back to pages button -->
        <div class="mb-3">
            <a href="{{pagesurl}}" class="btn btn-outline-secondary btn-sm">{{pageslabel}}</a>
        </div>

        <!-- Question bank table -->
        <table class="table table-hover table-bordered" style="width: 100%;">
            <thead class="table-dark">
                <tr>
                    <th scope="col">{{questionlabel}}</th>
                    <th scope="col">{{typelabel}}</th>
                    <th scope="col">{{descriptionlabel}}</th>
                    <th scope="col">{{actionslabel}}</th>
                </tr>
            </thead>
            <tbody>
                {{#has_questions}}
                    {{#questions}}
                        <tr>
                            <td>{{name}}</td>
                            <td>{{type}}</td>
                            <td>{{description}}</td>
                            <td>
                                {{#editingmode}}
                                    <a href="{{editurl}}" title="{{#str}}edit, moodle{{/str}}">{{{editicon}}}</a>
                                    <a href="{{deleteurl}}" title="{{#str}}delete, moodle{{/str}}">{{{deleteicon}}}</a>
                                {{/editingmode}}
                            </td>
                        </tr>
                    {{/questions}}
                {{/has_questions}}
                {{^has_questions}}
                    <tr>
                        <td colspan="4" class="text-center">{{noquestions}}</td>
                    </tr>
                {{/has_questions}}
            </tbody>
        </table>

        <!-- Action buttons -->
        <div class="mt-3">
            {{#editingmode}}
                <a href="{{createurl}}" class="btn btn-primary" data-testid="harpiasurvey-create-question">{{createquestionlabel}}</a>
            {{/editingmode}}
            <a href="{{backurl}}" class="btn btn-secondary ml-2">{{backlabel}}</a>
        </div>
    </div>
</div>
